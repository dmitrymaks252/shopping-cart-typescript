{"version":3,"sources":["components/AddNewItemForm/AddNewItemForm.module.scss","components/CartItem/CartItem.module.scss","pages/App/ShoppingCartPage.module.scss","components/SummaryBlock/SummaryBlock.module.scss","components/Cart/Cart.module.scss","store/types.ts","store/reducers/cartReducer.ts","store/actions/actions.ts","store/sagas/index.ts","store/store.ts","hooks/hooks.ts","components/CartItem/CartItem.tsx","store/selectors/selectors.ts","components/Cart/Cart.tsx","components/SummaryBlock/SummaryBlock.tsx","components/Input/Input.tsx","components/AddNewItemForm/AddNewItemForm.tsx","pages/App/ShoppingCartPage.tsx","App.tsx","index.tsx"],"names":["module","exports","actionTypes","initialState","data","isLoading","error","loadProductsFailure","payload","type","LOAD_PRODUCTS_FAILURE","changeQuantity","CHANGE_QUANTITY","workerSaga","watcherSaga","rootSaga","call","axios","put","LOAD_PRODUCTS_SUCCESS","window","alert","Error","message","takeLatest","LOAD_PRODUCTS","all","sagaMiddleware","createSagaMiddleware","store","createStore","state","action","map","el","id","quantity","quantityChanger","REMOVE_PRODUCT","filter","ADD_PRODUCT","newProductItem","Math","random","imgUrl","composeWithDevTools","applyMiddleware","run","useAppDispatch","useDispatch","useAppSelector","useSelector","CartItem","item","dispatch","className","s","CartItemCard","src","alt","name","description","title","HeaderTitle","price","toFixed","removeBtn","onClick","decrementBtn","disabled","incrementBtn","getCartItems","getLoadingStatus","getTotalPrice","createSelector","items","reduce","Cart","cartItems","length","emptyCart","SummaryBlock","totalPrice","summary","checkoutBtn","Input","label","register","required","numberInput","min","max","valueAsNumber","stringInput","placeholder","AddNewItemForm","useForm","reset","handleSubmit","errors","formState","form","onSubmit","requiredInput","addNewProductBtn","ShoppingCartPage","useEffect","header","loading","mainPart","totalAndForm","App","StrictMode","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8e742e9d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AddNewItemForm_form__2kAxz\",\"requiredInput\":\"AddNewItemForm_requiredInput__2-qSt\",\"addNewProductBtn\":\"AddNewItemForm_addNewProductBtn__1GKKL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CartItemCard\":\"CartItem_CartItemCard__3Q8Fu\",\"quantity\":\"CartItem_quantity__2AeSU\",\"decrementBtn\":\"CartItem_decrementBtn__3u6cz\",\"incrementBtn\":\"CartItem_incrementBtn__34Q65\",\"description\":\"CartItem_description__1nybl\",\"removeBtn\":\"CartItem_removeBtn__sAD-N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ShoppingCartPage_header__O0cwg\",\"loading\":\"ShoppingCartPage_loading__3Frhd\",\"mainPart\":\"ShoppingCartPage_mainPart__2CFQj\",\"totalAndForm\":\"ShoppingCartPage_totalAndForm__jFn-E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"SummaryBlock_summary__MJowT\",\"checkoutBtn\":\"SummaryBlock_checkoutBtn__2KhbA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"emptyCart\":\"Cart_emptyCart__33RBt\"};","export enum actionTypes {\r\n  LOAD_PRODUCTS = \"LOAD_PRODUCTS\",\r\n  LOAD_PRODUCTS_SUCCESS = \"LOAD_PRODUCTS_SUCCESS\",\r\n  LOAD_PRODUCTS_FAILURE = \"LOAD_PRODUCTS_FAILURE\",\r\n  CHANGE_QUANTITY = \"CHANGE_QUANTITY\",\r\n  REMOVE_PRODUCT = \"REMOVE_PRODUCT\",\r\n  ADD_PRODUCT = \"ADD_PRODUCT\"\r\n}\r\n\r\nexport type CartProductType = {\r\n  id: number\r\n  name: string\r\n  price: number\r\n  quantity: number\r\n  imgUrl: string\r\n}\r\n\r\nexport type CartStateType = {\r\n  data: Array<CartProductType>\r\n  isLoading: boolean\r\n  error: null | string\r\n}\r\n\r\nexport type FormValuesType = {\r\n  name: string\r\n  price: number\r\n  quantity: number\r\n}\r\n\r\n//Redux Action types\r\ntype LoadProductsType = {\r\n  type: actionTypes.LOAD_PRODUCTS\r\n}\r\n\r\ntype LoadProductSuccessType = {\r\n  type: actionTypes.LOAD_PRODUCTS_SUCCESS\r\n  payload: CartProductType[]\r\n}\r\n\r\ntype LoadProductsFailureType = {\r\n  type: actionTypes.LOAD_PRODUCTS_FAILURE\r\n  payload: string\r\n}\r\n\r\ntype ChangeQuantityType = {\r\n  type: actionTypes.CHANGE_QUANTITY\r\n  payload: {\r\n    id: number\r\n    quantityChanger: number\r\n  }\r\n}\r\n\r\ntype DeleteProductType = {\r\n  type: actionTypes.REMOVE_PRODUCT\r\n  payload: {\r\n    id: number\r\n  }\r\n}\r\n\r\ntype AddProductType = {\r\n  type: actionTypes.ADD_PRODUCT\r\n  payload: FormValuesType\r\n}\r\n\r\nexport type ActionTypes =\r\n  | LoadProductsType\r\n  | LoadProductSuccessType\r\n  | LoadProductsFailureType\r\n  | ChangeQuantityType\r\n  | DeleteProductType\r\n  | AddProductType","import { actionTypes, ActionTypes, CartProductType, CartStateType } from \"../types\";\r\n\r\n\r\nexport const initialState: CartStateType = {\r\n  data: [],\r\n  isLoading: false,\r\n  error: null\r\n};\r\n\r\nexport default function cartReducer(state = initialState, action: ActionTypes): CartStateType {\r\n  switch (action.type) {\r\n    case actionTypes.LOAD_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        isLoading: true\r\n      };\r\n    case actionTypes.LOAD_PRODUCTS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: action.payload\r\n      };\r\n    case actionTypes.LOAD_PRODUCTS_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload\r\n      };\r\n    case actionTypes.CHANGE_QUANTITY:\r\n      return {\r\n        ...state,\r\n        data: state.data.map(el =>\r\n          el.id === action.payload.id\r\n            ? {...el, quantity: el.quantity + action.payload.quantityChanger}\r\n            : el\r\n        )\r\n      };\r\n    case actionTypes.REMOVE_PRODUCT:\r\n      return {\r\n        ...state,\r\n        data: state.data.filter(el => el.id !== action.payload.id)\r\n      };\r\n    case actionTypes.ADD_PRODUCT:\r\n      const newProductItem: CartProductType = {\r\n        ...action.payload,\r\n        id: Math.random(),\r\n        imgUrl: \"https://grassrootscha.com/wp-content/uploads/2018/11/shutterstock_161251868-1.jpg\"\r\n      };\r\n      return {\r\n        ...state,\r\n        data: [newProductItem, ...state.data]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { ActionTypes, actionTypes, CartProductType, FormValuesType } from \"../types\";\r\n\r\nexport const loadProducts = (): ActionTypes => ({\r\n  type: actionTypes.LOAD_PRODUCTS\r\n});\r\n\r\nexport const loadProductsSuccess = (payload: Array<CartProductType>): ActionTypes => ({\r\n  type: actionTypes.LOAD_PRODUCTS_SUCCESS,\r\n  payload\r\n});\r\n\r\nexport const loadProductsFailure = (payload: string): ActionTypes => ({\r\n  type: actionTypes.LOAD_PRODUCTS_FAILURE,\r\n  payload\r\n});\r\n\r\nexport const changeQuantity = (payload: { id: number, quantityChanger: number }): ActionTypes => ({\r\n  type: actionTypes.CHANGE_QUANTITY,\r\n  payload\r\n});\r\n\r\nexport const removeProduct = (payload: { id: number }): ActionTypes => ({\r\n  type: actionTypes.REMOVE_PRODUCT,\r\n  payload\r\n});\r\n\r\nexport const addProduct = (payload: FormValuesType): ActionTypes => ({\r\n  type: actionTypes.ADD_PRODUCT,\r\n  payload\r\n});\r\n\r\n","import { takeLatest, call, put, all } from \"redux-saga/effects\";\r\nimport { actionTypes, CartProductType } from \"../types\";\r\nimport axios, { AxiosResponse } from \"axios\";\r\nimport { loadProductsFailure, loadProductsSuccess } from \"../actions/actions\";\r\n\r\nfunction* workerSaga() {\r\n  try {\r\n    const {data}: AxiosResponse<Array<CartProductType>> = yield call(axios, \"https://my-json-server.typicode.com/dmitrymaks252/dmitrymaks252/products\");\r\n    yield put(loadProductsSuccess(data));\r\n  } catch (e) {\r\n    window.alert(e);\r\n    if (e instanceof Error) {\r\n      yield put(loadProductsFailure(e.message));\r\n    }\r\n  }\r\n}\r\n\r\nfunction* watcherSaga() {\r\n  yield takeLatest(actionTypes.LOAD_PRODUCTS, workerSaga);\r\n}\r\n\r\nexport default function* rootSaga() {\r\n  yield all([watcherSaga()]);\r\n}","import { createStore, applyMiddleware } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport cartReducer from \"./reducers/cartReducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport rootSaga from \"./sagas\";\r\n\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n  cartReducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(sagaMiddleware)\r\n  )\r\n);\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport default store;","import { RootState } from \"../store/store\";\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { Dispatch } from \"react\";\r\nimport { ActionTypes } from \"../store/types\";\r\n\r\nexport const useAppDispatch = () => useDispatch<Dispatch<ActionTypes>>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n\r\n","import { CartProductType } from \"../../store/types\";\r\nimport { FC } from \"react\";\r\nimport s from \"./CartItem.module.scss\";\r\nimport { useAppDispatch } from \"../../hooks/hooks\";\r\nimport { changeQuantity, removeProduct } from \"../../store/actions/actions\";\r\n\r\ntype PropsType = {\r\n  item: CartProductType\r\n}\r\n\r\nexport const CartItem: FC<PropsType> = ({item}) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleIncrement = () => {\r\n    dispatch(\r\n      changeQuantity({id: item.id, quantityChanger: 1})\r\n    );\r\n  };\r\n  const handleDecrement = () => {\r\n    dispatch(\r\n      changeQuantity({id: item.id, quantityChanger: -1})\r\n    );\r\n  };\r\n  const handleRemove = () => {\r\n    dispatch(\r\n      removeProduct({id: item.id})\r\n    );\r\n  };\r\n\r\n  if (!item) return null;\r\n  return (\r\n    <div className={s.CartItemCard}>\r\n      <img src={item.imgUrl} alt={item.name}/>\r\n      <div className={s.description}>\r\n        <h3 title=\"name\" className={s.HeaderTitle}>{item.name}</h3>\r\n        <p>Price: ${item.price.toFixed(2)} </p>\r\n        <p>Subtotal: ${(item.price * item.quantity).toFixed(2)}</p>\r\n        <button className={s.removeBtn} onClick={handleRemove} title=\"remove\">Remove</button>\r\n      </div>\r\n      <div className={s.quantity}>\r\n\r\n        <button\r\n          className={s.decrementBtn}\r\n          disabled={item.quantity === 1}\r\n          onClick={handleDecrement}\r\n          title=\"decrement\"\r\n        >-\r\n        </button>\r\n        <p title=\"quantity\">{item.quantity}</p>\r\n        <button\r\n          className={s.incrementBtn}\r\n          onClick={handleIncrement}\r\n          title=\"increment\">+\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import { RootState } from \"../store\";\r\nimport { CartProductType } from \"../types\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getCartItems = (store: RootState): Array<CartProductType> => store.data;\r\n\r\nexport const getLoadingStatus = (store: RootState): boolean => store.isLoading;\r\n\r\nexport const getTotalPrice = createSelector(getCartItems, items => items.reduce((price, item) => price + (item.price * item.quantity), 0));","import React, { FC } from \"react\";\r\nimport { useAppSelector } from \"../../hooks/hooks\";\r\nimport { CartItem } from \"../CartItem/CartItem\";\r\nimport { getCartItems } from \"../../store/selectors/selectors\";\r\nimport s from \"./Cart.module.scss\";\r\n\r\n\r\nexport const Cart: FC = () => {\r\n  const cartItems = useAppSelector(getCartItems);\r\n  return (\r\n    <>\r\n      {\r\n        cartItems.length === 0\r\n          ? <p className={s.emptyCart}>Cart is empty, please add items</p>\r\n          : <div>\r\n            {cartItems.map(item => <CartItem key={item.id} item={item}/>)}\r\n          </div>\r\n      }\r\n    </>\r\n  );\r\n};","import { FC } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getTotalPrice } from \"../../store/selectors/selectors\";\r\nimport s from \"./SummaryBlock.module.scss\";\r\n\r\nexport const SummaryBlock: FC = () => {\r\n  const totalPrice = useSelector(getTotalPrice);\r\n  return (\r\n    <div className={s.summary}>\r\n      <h3>Total price:</h3>\r\n      <p>${totalPrice.toFixed(2)} </p>\r\n      <button disabled={totalPrice === 0} className={s.checkoutBtn}>Proceed to Checkout</button>\r\n    </div>\r\n\r\n  );\r\n};","import { FC } from \"react\";\r\nimport { FieldValues, UseFormRegister } from \"react-hook-form\";\r\n\r\ntype PropsType = {\r\n  label: string\r\n  type: \"string\" | \"number\"\r\n  register: UseFormRegister<FieldValues>\r\n  required: boolean\r\n}\r\n\r\nexport const Input: FC<PropsType> = ({\r\n                                       label,\r\n                                       type,\r\n                                       register,\r\n                                       required = true\r\n                                     }) => {\r\n  const numberInput = {required, min: 1, max: 1e9, valueAsNumber: true};\r\n  const stringInput = {required};\r\n  return (\r\n    <input\r\n      placeholder={label}\r\n      type={type}\r\n      {...register(\r\n        label,\r\n        type === \"number\"\r\n          ? numberInput\r\n          : stringInput\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\n","import { FC } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Input } from \"../Input/Input\";\r\nimport { useAppDispatch } from \"../../hooks/hooks\";\r\nimport { FormValuesType } from \"../../store/types\";\r\nimport { addProduct } from \"../../store/actions/actions\";\r\nimport s from \"./AddNewItemForm.module.scss\";\r\n\r\n\r\nexport const AddNewItemForm: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    register,\r\n    reset,\r\n    handleSubmit,\r\n    formState: {errors}\r\n  } = useForm<FormValuesType>();\r\n  const onSubmit = (data: FormValuesType) => {\r\n    dispatch(addProduct(data));\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <form className={s.form} onSubmit={handleSubmit(onSubmit)}>\r\n      <label>\r\n        Name:\r\n        <Input\r\n          label={\"name\"}\r\n          type={\"string\"}\r\n          required\r\n          register={register}\r\n        />\r\n        {errors.name && (<p className={s.requiredInput}>Field is required </p>)}\r\n      </label>\r\n      <label>\r\n        Price:\r\n        <Input\r\n          type={\"number\"}\r\n          label={\"price\"}\r\n          required\r\n          register={register}\r\n        />\r\n        {errors.price?.type === \"required\"\r\n          ? <p className={s.requiredInput}>Field is required</p>\r\n          : errors.price?.type === \"min\"\r\n            ? <p className={s.requiredInput}>Price cannot be below zero</p>\r\n            : errors.price?.type === \"max\"\r\n              ? <p className={s.requiredInput}>Maximum number length is 10 digits</p>\r\n              : null\r\n        }\r\n      </label>\r\n      <label>\r\n        Quantity:\r\n        <Input\r\n          type={\"number\"}\r\n          label={\"quantity\"}\r\n          required\r\n          register={register}\r\n        />\r\n        {errors.quantity?.type === \"required\"\r\n          ? <p className={s.requiredInput}>Field is required</p>\r\n          : errors.quantity?.type === \"min\"\r\n            ? <p className={s.requiredInput}>Quantity cannot be below zero</p>\r\n            : errors.quantity?.type === \"max\"\r\n              ? <p className={s.requiredInput}>Maximum number length is 10 digits</p>\r\n              : null\r\n        }\r\n      </label>\r\n      <button className={s.addNewProductBtn}>Add new item</button>\r\n    </form>\r\n  );\r\n};","import { FC, useEffect } from \"react\";\nimport { Cart } from \"../../components/Cart/Cart\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks/hooks\";\nimport { SummaryBlock } from \"../../components/SummaryBlock/SummaryBlock\";\nimport s from \"./ShoppingCartPage.module.scss\";\nimport { getLoadingStatus } from \"../../store/selectors/selectors\";\nimport { loadProducts } from \"../../store/actions/actions\";\nimport { AddNewItemForm } from \"../../components/AddNewItemForm/AddNewItemForm\";\n\nconst ShoppingCartPage: FC = () => {\n  const dispatch = useAppDispatch();\n  const isLoading = useAppSelector(getLoadingStatus);\n  useEffect(() => dispatch(loadProducts()), [dispatch]);\n  return (\n    <>\n      <h1 className={s.header}>Shopping cart</h1>\n      {\n        isLoading\n          ? <p className={s.loading}>Loading...</p>\n          : <div className={s.mainPart}>\n            <Cart/>\n            <div className={s.totalAndForm}>\n              <SummaryBlock/>\n              <AddNewItemForm/>\n            </div>\n          </div>\n      }\n    </>\n  );\n\n};\n\n\nexport default ShoppingCartPage;\n","import React, { FC } from \"react\";\r\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/store\";\r\nimport ShoppingCartPage from \"./pages/App/ShoppingCartPage\";\r\n\r\nconst App: FC = () => {\r\n  return (\r\n    <React.StrictMode>\r\n      <Provider store={store}>\r\n        <BrowserRouter>\r\n          <Routes>\r\n            <Route path={\"/shopping-cart-typescript\"} element={<ShoppingCartPage/>}/>\r\n          </Routes>\r\n        </BrowserRouter>\r\n      </Provider>\r\n    </React.StrictMode>\r\n  );\r\n};\r\n\r\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <App/>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}