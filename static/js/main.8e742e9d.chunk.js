(this["webpackJsonpshoping-cart-ts"]=this["webpackJsonpshoping-cart-ts"]||[]).push([[0],{15:function(e,t,r){e.exports={form:"AddNewItemForm_form__2kAxz",requiredInput:"AddNewItemForm_requiredInput__2-qSt",addNewProductBtn:"AddNewItemForm_addNewProductBtn__1GKKL"}},17:function(e,t,r){e.exports={CartItemCard:"CartItem_CartItemCard__3Q8Fu",quantity:"CartItem_quantity__2AeSU",decrementBtn:"CartItem_decrementBtn__3u6cz",incrementBtn:"CartItem_incrementBtn__34Q65",description:"CartItem_description__1nybl",removeBtn:"CartItem_removeBtn__sAD-N"}},23:function(e,t,r){e.exports={header:"ShoppingCartPage_header__O0cwg",loading:"ShoppingCartPage_loading__3Frhd",mainPart:"ShoppingCartPage_mainPart__2CFQj",totalAndForm:"ShoppingCartPage_totalAndForm__jFn-E"}},31:function(e,t,r){e.exports={summary:"SummaryBlock_summary__MJowT",checkoutBtn:"SummaryBlock_checkoutBtn__2KhbA"}},42:function(e,t,r){e.exports={emptyCart:"Cart_emptyCart__33RBt"}},51:function(e,t,r){},76:function(e,t,r){"use strict";r.r(t);var a,n=r(0),c=r.n(n),i=r(26),s=r.n(i),d=(r(51),r(43)),o=r(4),u=r(18),l=r(20),j=r(44),m=r(8),O=r(7);!function(e){e.LOAD_PRODUCTS="LOAD_PRODUCTS",e.LOAD_PRODUCTS_SUCCESS="LOAD_PRODUCTS_SUCCESS",e.LOAD_PRODUCTS_FAILURE="LOAD_PRODUCTS_FAILURE",e.CHANGE_QUANTITY="CHANGE_QUANTITY",e.REMOVE_PRODUCT="REMOVE_PRODUCT",e.ADD_PRODUCT="ADD_PRODUCT"}(a||(a={}));var p={data:[],isLoading:!1,error:null};var b=r(40),h=r(6),_=r.n(h),x=r(21),y=r(41),C=r.n(y),v=function(e){return{type:a.LOAD_PRODUCTS_FAILURE,payload:e}},f=function(e){return{type:a.CHANGE_QUANTITY,payload:e}},g=_.a.mark(N),D=_.a.mark(S),A=_.a.mark(q);function N(){var e,t;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(x.b)(C.a,"https://my-json-server.typicode.com/dmitrymaks252/dmitrymaks252/products");case 3:return e=r.sent,t=e.data,r.next=7,Object(x.c)((n=t,{type:a.LOAD_PRODUCTS_SUCCESS,payload:n}));case 7:r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(0),window.alert(r.t0),!(r.t0 instanceof Error)){r.next=15;break}return r.next=15,Object(x.c)(v(r.t0.message));case 15:case"end":return r.stop()}var n}),g,null,[[0,9]])}function S(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(a.LOAD_PRODUCTS,N);case 2:case"end":return e.stop()}}),D)}function q(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([S()]);case 2:case"end":return e.stop()}}),A)}var U=Object(j.a)(),P=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.LOAD_PRODUCTS:return Object(O.a)(Object(O.a)({},e),{},{isLoading:!0});case a.LOAD_PRODUCTS_SUCCESS:return Object(O.a)(Object(O.a)({},e),{},{isLoading:!1,data:t.payload});case a.LOAD_PRODUCTS_FAILURE:return Object(O.a)(Object(O.a)({},e),{},{isLoading:!1,error:t.payload});case a.CHANGE_QUANTITY:return Object(O.a)(Object(O.a)({},e),{},{data:e.data.map((function(e){return e.id===t.payload.id?Object(O.a)(Object(O.a)({},e),{},{quantity:e.quantity+t.payload.quantityChanger}):e}))});case a.REMOVE_PRODUCT:return Object(O.a)(Object(O.a)({},e),{},{data:e.data.filter((function(e){return e.id!==t.payload.id}))});case a.ADD_PRODUCT:var r=Object(O.a)(Object(O.a)({},t.payload),{},{id:Math.random(),imgUrl:"https://grassrootscha.com/wp-content/uploads/2018/11/shutterstock_161251868-1.jpg"});return Object(O.a)(Object(O.a)({},e),{},{data:[r].concat(Object(m.a)(e.data))});default:return e}}),Object(b.composeWithDevTools)(Object(l.applyMiddleware)(U)));U.run(q);var T=P,R=function(){return Object(u.b)()},I=u.c,w=r(17),E=r.n(w),L=r(2),F=function(e){var t=e.item,r=R();return t?Object(L.jsxs)("div",{className:E.a.CartItemCard,children:[Object(L.jsx)("img",{src:t.imgUrl,alt:t.name}),Object(L.jsxs)("div",{className:E.a.description,children:[Object(L.jsx)("h3",{title:"name",className:E.a.HeaderTitle,children:t.name}),Object(L.jsxs)("p",{children:["Price: $",t.price.toFixed(2)," "]}),Object(L.jsxs)("p",{children:["Subtotal: $",(t.price*t.quantity).toFixed(2)]}),Object(L.jsx)("button",{className:E.a.removeBtn,onClick:function(){var e;r((e={id:t.id},{type:a.REMOVE_PRODUCT,payload:e}))},title:"remove",children:"Remove"})]}),Object(L.jsxs)("div",{className:E.a.quantity,children:[Object(L.jsx)("button",{className:E.a.decrementBtn,disabled:1===t.quantity,onClick:function(){r(f({id:t.id,quantityChanger:-1}))},title:"decrement",children:"-"}),Object(L.jsx)("p",{title:"quantity",children:t.quantity}),Object(L.jsx)("button",{className:E.a.incrementBtn,onClick:function(){r(f({id:t.id,quantityChanger:1}))},title:"increment",children:"+"})]})]}):null},k=r(45),B=function(e){return e.data},M=function(e){return e.isLoading},Q=Object(k.a)(B,(function(e){return e.reduce((function(e,t){return e+t.price*t.quantity}),0)})),G=r(42),H=r.n(G),z=function(){var e=I(B);return Object(L.jsx)(L.Fragment,{children:0===e.length?Object(L.jsx)("p",{className:H.a.emptyCart,children:"Cart is empty, please add items"}):Object(L.jsx)("div",{children:e.map((function(e){return Object(L.jsx)(F,{item:e},e.id)}))})})},V=r(31),Y=r.n(V),J=function(){var e=Object(u.c)(Q);return Object(L.jsxs)("div",{className:Y.a.summary,children:[Object(L.jsx)("h3",{children:"Total price:"}),Object(L.jsxs)("p",{children:["$",e.toFixed(2)," "]}),Object(L.jsx)("button",{disabled:0===e,className:Y.a.checkoutBtn,children:"Proceed to Checkout"})]})},K=r(23),$=r.n(K),W=r(46),X=function(e){var t=e.label,r=e.type,a=e.register,n=e.required,c=void 0===n||n,i={required:c,min:1,max:1e9,valueAsNumber:!0},s={required:c};return Object(L.jsx)("input",Object(O.a)({placeholder:t,type:r},a(t,"number"===r?i:s)))},Z=r(15),ee=r.n(Z),te=function(){var e,t,r,n,c,i,s=R(),d=Object(W.a)(),o=d.register,u=d.reset,l=d.handleSubmit,j=d.formState.errors;return Object(L.jsxs)("form",{className:ee.a.form,onSubmit:l((function(e){var t;s((t=e,{type:a.ADD_PRODUCT,payload:t})),u()})),children:[Object(L.jsxs)("label",{children:["Name:",Object(L.jsx)(X,{label:"name",type:"string",required:!0,register:o}),j.name&&Object(L.jsx)("p",{className:ee.a.requiredInput,children:"Field is required "})]}),Object(L.jsxs)("label",{children:["Price:",Object(L.jsx)(X,{type:"number",label:"price",required:!0,register:o}),"required"===(null===(e=j.price)||void 0===e?void 0:e.type)?Object(L.jsx)("p",{className:ee.a.requiredInput,children:"Field is required"}):"min"===(null===(t=j.price)||void 0===t?void 0:t.type)?Object(L.jsx)("p",{className:ee.a.requiredInput,children:"Price cannot be below zero"}):"max"===(null===(r=j.price)||void 0===r?void 0:r.type)?Object(L.jsx)("p",{className:ee.a.requiredInput,children:"Maximum number length is 10 digits"}):null]}),Object(L.jsxs)("label",{children:["Quantity:",Object(L.jsx)(X,{type:"number",label:"quantity",required:!0,register:o}),"required"===(null===(n=j.quantity)||void 0===n?void 0:n.type)?Object(L.jsx)("p",{className:ee.a.requiredInput,children:"Field is required"}):"min"===(null===(c=j.quantity)||void 0===c?void 0:c.type)?Object(L.jsx)("p",{className:ee.a.requiredInput,children:"Quantity cannot be below zero"}):"max"===(null===(i=j.quantity)||void 0===i?void 0:i.type)?Object(L.jsx)("p",{className:ee.a.requiredInput,children:"Maximum number length is 10 digits"}):null]}),Object(L.jsx)("button",{className:ee.a.addNewProductBtn,children:"Add new item"})]})},re=function(){var e=R(),t=I(M);return Object(n.useEffect)((function(){return e({type:a.LOAD_PRODUCTS})}),[e]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h1",{className:$.a.header,children:"Shopping cart"}),t?Object(L.jsx)("p",{className:$.a.loading,children:"Loading..."}):Object(L.jsxs)("div",{className:$.a.mainPart,children:[Object(L.jsx)(z,{}),Object(L.jsxs)("div",{className:$.a.totalAndForm,children:[Object(L.jsx)(J,{}),Object(L.jsx)(te,{})]})]})]})},ae=function(){return Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(u.a,{store:T,children:Object(L.jsx)(d.a,{children:Object(L.jsx)(o.c,{children:Object(L.jsx)(o.a,{path:"/shopping-cart-typescript",element:Object(L.jsx)(re,{})})})})})})};s.a.render(Object(L.jsx)(ae,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.8e742e9d.chunk.js.map