(this["webpackJsonpshoping-cart-ts"]=this["webpackJsonpshoping-cart-ts"]||[]).push([[0],{15:function(e,t,r){e.exports={form:"AddNewItemForm_form__2kAxz",requiredInput:"AddNewItemForm_requiredInput__2-qSt",addNewProductBtn:"AddNewItemForm_addNewProductBtn__1GKKL"}},17:function(e,t,r){e.exports={CartItemCard:"CartItem_CartItemCard__3Q8Fu",quantity:"CartItem_quantity__2AeSU",decrementBtn:"CartItem_decrementBtn__3u6cz",incrementBtn:"CartItem_incrementBtn__34Q65",description:"CartItem_description__1nybl",removeBtn:"CartItem_removeBtn__sAD-N"}},23:function(e,t,r){e.exports={header:"ShoppingCartPage_header__O0cwg",loading:"ShoppingCartPage_loading__3Frhd",mainPart:"ShoppingCartPage_mainPart__2CFQj",totalAndForm:"ShoppingCartPage_totalAndForm__jFn-E"}},31:function(e,t,r){e.exports={summary:"SummaryBlock_summary__MJowT",checkoutBtn:"SummaryBlock_checkoutBtn__2KhbA"}},42:function(e,t,r){e.exports={emptyCart:"Cart_emptyCart__33RBt"}},43:function(e,t,r){e.exports={inputField:"Input_inputField__3yDVh"}},52:function(e,t,r){},77:function(e,t,r){"use strict";r.r(t);var n,a=r(0),c=r.n(a),i=r(26),s=r.n(i),d=(r(52),r(44)),u=r(4),o=r(18),l=r(20),j=r(45),m=r(8),p=r(7);!function(e){e.LOAD_PRODUCTS="LOAD_PRODUCTS",e.LOAD_PRODUCTS_SUCCESS="LOAD_PRODUCTS_SUCCESS",e.LOAD_PRODUCTS_FAILURE="LOAD_PRODUCTS_FAILURE",e.CHANGE_QUANTITY="CHANGE_QUANTITY",e.REMOVE_PRODUCT="REMOVE_PRODUCT",e.ADD_PRODUCT="ADD_PRODUCT"}(n||(n={}));var O={data:[],isLoading:!1,error:null};var b=r(40),_=r(6),h=r.n(_),x=r(21),y=r(41),C=r.n(y),f=function(e){return{type:n.LOAD_PRODUCTS_FAILURE,payload:e}},v=function(e){return{type:n.CHANGE_QUANTITY,payload:e}},g=h.a.mark(N),D=h.a.mark(S),A=h.a.mark(q);function N(){var e,t;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(x.b)(C.a,"https://my-json-server.typicode.com/dmitrymaks252/dmitrymaks252/products");case 3:return e=r.sent,t=e.data,r.next=7,Object(x.c)((a=t,{type:n.LOAD_PRODUCTS_SUCCESS,payload:a}));case 7:r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(0),window.alert(r.t0),!(r.t0 instanceof Error)){r.next=15;break}return r.next=15,Object(x.c)(f(r.t0.message));case 15:case"end":return r.stop()}var a}),g,null,[[0,9]])}function S(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(n.LOAD_PRODUCTS,N);case 2:case"end":return e.stop()}}),D)}function q(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([S()]);case 2:case"end":return e.stop()}}),A)}var U=Object(j.a)(),P=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.LOAD_PRODUCTS:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});case n.LOAD_PRODUCTS_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,data:t.payload});case n.LOAD_PRODUCTS_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,error:t.payload});case n.CHANGE_QUANTITY:return Object(p.a)(Object(p.a)({},e),{},{data:e.data.map((function(e){return e.id===t.payload.id?Object(p.a)(Object(p.a)({},e),{},{quantity:e.quantity+t.payload.quantityChanger}):e}))});case n.REMOVE_PRODUCT:return Object(p.a)(Object(p.a)({},e),{},{data:e.data.filter((function(e){return e.id!==t.payload.id}))});case n.ADD_PRODUCT:var r=Object(p.a)(Object(p.a)({},t.payload),{},{id:Math.random(),imgUrl:"https://grassrootscha.com/wp-content/uploads/2018/11/shutterstock_161251868-1.jpg"});return Object(p.a)(Object(p.a)({},e),{},{data:[r].concat(Object(m.a)(e.data))});default:return e}}),Object(b.composeWithDevTools)(Object(l.applyMiddleware)(U)));U.run(q);var T=P,I=function(){return Object(o.b)()},R=o.c,F=r(17),w=r.n(F),E=r(2),L=function(e){var t=e.item,r=I();return t?Object(E.jsxs)("div",{className:w.a.CartItemCard,children:[Object(E.jsx)("img",{src:t.imgUrl,alt:t.name}),Object(E.jsxs)("div",{className:w.a.description,children:[Object(E.jsx)("h3",{title:"name",className:w.a.HeaderTitle,children:t.name}),Object(E.jsxs)("p",{children:["Price: $",t.price.toFixed(2)," "]}),Object(E.jsxs)("p",{children:["Subtotal: $",(t.price*t.quantity).toFixed(2)]}),Object(E.jsx)("button",{className:w.a.removeBtn,onClick:function(){var e;r((e={id:t.id},{type:n.REMOVE_PRODUCT,payload:e}))},title:"remove",children:"Remove"})]}),Object(E.jsxs)("div",{className:w.a.quantity,children:[Object(E.jsx)("button",{className:w.a.decrementBtn,disabled:1===t.quantity,onClick:function(){r(v({id:t.id,quantityChanger:-1}))},title:"decrement",children:"-"}),Object(E.jsx)("p",{title:"quantity",children:t.quantity}),Object(E.jsx)("button",{className:w.a.incrementBtn,onClick:function(){r(v({id:t.id,quantityChanger:1}))},title:"increment",children:"+"})]})]}):null},k=r(46),B=function(e){return e.data},M=function(e){return e.isLoading},Q=Object(k.a)(B,(function(e){return e.reduce((function(e,t){return e+t.price*t.quantity}),0)})),G=r(42),H=r.n(G),V=function(){var e=R(B);return Object(E.jsx)(E.Fragment,{children:0===e.length?Object(E.jsx)("p",{className:H.a.emptyCart,children:"Cart is empty, please add items"}):Object(E.jsx)("div",{children:e.map((function(e){return Object(E.jsx)(L,{item:e},e.id)}))})})},z=r(31),Y=r.n(z),J=function(){var e=Object(o.c)(Q);return Object(E.jsxs)("div",{className:Y.a.summary,children:[Object(E.jsx)("h3",{children:"Total price:"}),Object(E.jsxs)("p",{children:["$",e.toFixed(2)," "]}),Object(E.jsx)("button",{disabled:0===e,className:Y.a.checkoutBtn,children:"Proceed to Checkout"})]})},K=r(23),$=r.n(K),W=r(47),X=r(43),Z=r.n(X),ee=function(e){var t=e.label,r=e.type,n=e.register,a=e.required,c=void 0===a||a,i={required:c,min:1,max:1e9,valueAsNumber:!0},s={required:c};return Object(E.jsx)("input",Object(p.a)({className:Z.a.inputField,placeholder:t,type:r},n(t,"number"===r?i:s)))},te=r(15),re=r.n(te),ne=function(){var e,t,r,a,c,i,s=I(),d=Object(W.a)(),u=d.register,o=d.reset,l=d.handleSubmit,j=d.formState.errors;return Object(E.jsxs)("form",{className:re.a.form,onSubmit:l((function(e){var t;s((t=e,{type:n.ADD_PRODUCT,payload:t})),o()})),children:[Object(E.jsxs)("label",{children:["Name:",Object(E.jsx)(ee,{label:"name",type:"string",required:!0,register:u}),j.name&&Object(E.jsx)("p",{className:re.a.requiredInput,children:"Field is required "})]}),Object(E.jsxs)("label",{children:["Price:",Object(E.jsx)(ee,{type:"number",label:"price",required:!0,register:u}),"required"===(null===(e=j.price)||void 0===e?void 0:e.type)?Object(E.jsx)("p",{className:re.a.requiredInput,children:"Field is required"}):"min"===(null===(t=j.price)||void 0===t?void 0:t.type)?Object(E.jsx)("p",{className:re.a.requiredInput,children:"Price cannot be below zero"}):"max"===(null===(r=j.price)||void 0===r?void 0:r.type)?Object(E.jsx)("p",{className:re.a.requiredInput,children:"Maximum number length is 10 digits"}):null]}),Object(E.jsxs)("label",{children:["Quantity:",Object(E.jsx)(ee,{type:"number",label:"quantity",required:!0,register:u}),"required"===(null===(a=j.quantity)||void 0===a?void 0:a.type)?Object(E.jsx)("p",{className:re.a.requiredInput,children:"Field is required"}):"min"===(null===(c=j.quantity)||void 0===c?void 0:c.type)?Object(E.jsx)("p",{className:re.a.requiredInput,children:"Quantity cannot be below zero"}):"max"===(null===(i=j.quantity)||void 0===i?void 0:i.type)?Object(E.jsx)("p",{className:re.a.requiredInput,children:"Maximum number length is 10 digits"}):null]}),Object(E.jsx)("button",{className:re.a.addNewProductBtn,children:"Add new item"})]})},ae=function(){var e=I(),t=R(M);return Object(a.useEffect)((function(){return e({type:n.LOAD_PRODUCTS})}),[e]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{className:$.a.header,children:"Shopping cart"}),t?Object(E.jsx)("p",{className:$.a.loading,children:"Loading..."}):Object(E.jsxs)("div",{className:$.a.mainPart,children:[Object(E.jsx)(V,{}),Object(E.jsxs)("div",{className:$.a.totalAndForm,children:[Object(E.jsx)(J,{}),Object(E.jsx)(ne,{})]})]})]})},ce=function(){return Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(o.a,{store:T,children:Object(E.jsx)(d.a,{children:Object(E.jsx)(u.c,{children:Object(E.jsx)(u.a,{path:"/shopping-cart-typescript",element:Object(E.jsx)(ae,{})})})})})})};s.a.render(Object(E.jsx)(ce,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.8ac4bed7.chunk.js.map